(function(b){function g(a){var c=a.data("options"),e=b.clickNScroll.emaX*c.deceleration,d=b.clickNScroll.emaY*c.deceleration;e<0.01&&e>-0.01||d<0.01&&d>-0.01||(h(a,e,d),setTimeout(function(){g(a)},1E3/c.decelRate))}function h(a,c,e){if(b.clickNScroll.emaX<0&&c>0||b.clickNScroll.emaX>0&&c<0)b.clickNScroll.emaX=0;if(b.clickNScroll.emaY<0&&e>0||b.clickNScroll.emaY>0&&e<0)b.clickNScroll.emaY=0;var d=a.data("options"),f=d.acceleration*c+(1-d.acceleration)*b.clickNScroll.emaX,d=d.acceleration*e+(1-d.acceleration)*
b.clickNScroll.emaY,g=a[0].scrollWidth?a[0].scrollWidth-a[0].clientWidth:a[0].body.scrollWidth-a[0].body.clientWidth,h=a[0].scrollHeight?a[0].scrollHeight-a[0].clientHeight:a[0].body.scrollHeight-a[0].body.clientHeight;a.scrollLeft()<=0&&c<=0||a.scrollLeft()>=g&&c>=0||a.scrollLeft(a.scrollLeft()+f);a.scrollTop()<=0&&e<=0||a.scrollTop()>=h&&e>=0||a.scrollTop(a.scrollTop()+d);b.clickNScroll.emaX=f;b.clickNScroll.emaY=d}jQuery.extend({mouse:{x:0,y:0},clickNScroll:{mousedown:!1,emaX:0,emaY:0}});jQuery.fn.extend({clickNScroll:function(a){var c=
b.extend({allowHiliting:!1,acceleration:0.65,deceleration:0.85,decelRate:64,reverse:!1,rightMouse:!1,allowThrowing:!0,throwOnOut:!0},a||{});return this.each(function(){var a=b(this).data("options",c);if(!c.allowHiliting)jQuery.browser.msie?a.get(0).onselectstart=function(){return!1}:a.get(0).onmousedown=function(a){a.preventDefault()};a.mousedown(function(){b.clickNScroll.mousedown=a}).mouseup(function(){c.allowThrowing&&g(b(this));b.clickNScroll.mousedown=!1}).mouseout(function(a){a=a.relatedTarget||
a.toElement;if(!a||a.nodeName=="HTML")b.clickNScroll.mousedown&&c.allowThrowing&&c.throwOnOut&&g(b(this)),b.clickNScroll.mousedown=!1})})}});b(document).mousemove(function(a){if(b.clickNScroll.mousedown){var c=b.clickNScroll.mousedown,e=c.data("options");if(e.rightMouse&&a.button!=2)return;else if(!e.rightMouse&&a.button==2)return;var d=a.pageX-b.mouse.x,f=a.pageY-b.mouse.y;e.reverse||(d=0-d,f=0-f);h(c,d,f)}b.mouse={x:a.pageX,y:a.pageY}})})(jQuery);